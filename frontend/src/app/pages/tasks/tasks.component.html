<div fxLayout="row" fxLayoutAlign="space-between center" class="flex-p">
    <div fxLayout="row">
        <button (click)="onAddNewTaskClick()" mat-raised-button color="primary" class="m-1">
            <mat-icon class="mat-18">alarm_add</mat-icon> {{'tasks.buttons.add-new' |translate}}
        </button>
        <button (click)="onFilterTasks('uncompleted')" mat-raised-button color="accent" class="m-1">
            <mat-icon class="mat-18">alarm_add</mat-icon> {{'tasks.buttons.filter-uncompleted' |translate}}
        </button>
        <button (click)="onFilterTasks('completed')" mat-raised-button color="basic" class="m-1">
            <mat-icon class="mat-18">alarm_add</mat-icon> {{'tasks.buttons.filter-completed' |translate}}
        </button>
    </div>
</div>
<div fxFlex="100">
    <mat-accordion displayMode="default" [multi]="false" [hideToggle]="true">
        <mat-expansion-panel *ngFor="let task of tasks | paginate: { itemsPerPage: 11, currentPage: page }">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <mat-icon *ngIf="task.progress === 100" class="mat-18" color="primary">verified_user</mat-icon>
                    <mat-icon *ngIf="task.progress < 100" class="mat-18">assignment_late</mat-icon>
                    <h5>{{task.title}}</h5>
                </mat-panel-title>
                <mat-panel-description class="float-left">
                    <i>
                        <small>{{task.start_date}} : {{task.end_date}}</small>
                    </i>
                </mat-panel-description>
            </mat-expansion-panel-header>
            <p fxLayout="row" fxLayoutAlign="start center">
                <mat-icon class="mat-18">description</mat-icon>
                <span>
                    <i>{{task.description}}</i>
                </span>
            </p>
            <p fxLayout="row" fxLayoutAlign="start center">
                <mat-icon class="mat-18">face</mat-icon>
                <span>
                    <i>{{task.first_name + ' ' + task.last_name}}</i>
                </span>
            </p>
            <p fxLayout="row" fxLayoutAlign="start center">
                <mat-icon class="mat-18">low_priority</mat-icon>
                <span>
                    <i>{{'tasks.form.priority.levels.' + task.priority | translate}}</i>
                </span>
            </p>
            <p fxLayout="row" fxLayoutAlign="start center">
                <mat-icon class="mat-18">hourglass_empty</mat-icon>
                <span>
                    <mat-slider (change)="onProgressChange(task)" class="custom-slider w-50" [max]="100" [min]="0" [step]="1" [thumb-label]="true"
                        [tick-interval]="tickInterval" [(ngModel)]="task.progress" [vertical]="false">
                    </mat-slider>
                    <i>
                        <small>{{task.progress}}%</small>
                    </i>
                </span>
            </p>
            <button *ngIf="task.progress !== 100" (click)="onDeleteTaskClick(task.id)" mat-raised-button color="accent" class="m-1">
                <mat-icon class="mat-18">close</mat-icon> {{'buttons.delete' |translate}}
            </button>

        </mat-expansion-panel>
    </mat-accordion>
</div>
<div *ngIf="tasks" fxLayout="row wrap">
    <div fxFlex="100" class="flex-p">
        <mat-card class="p-0 text-center">
            <pagination-controls class="gradus-pagination" autoHide="true" maxSize="7" (pageChange)="onPageChanged($event)"></pagination-controls>
        </mat-card>
    </div>
</div>